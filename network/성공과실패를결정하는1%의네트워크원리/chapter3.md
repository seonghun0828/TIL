# 케이블의 앞은 LAN 기기였다

[1. 케이블과 리피터, 허브 속을 신호가 흘러간다](#1-케이블과-리피터-허브-속을-신호가-흘러간다)   
[2. 스위칭 허브의 패킷 중계 동작](#2-스위칭-허브의-패킷-중계-동작)   
[3. 라우터의 패킷 중계 동작](#3-라우터의-패킷-중계-동작)   
[4. 라우터의 부가 기능](#4-라우터의-부가-기능)   

## 1 케이블과 리피터 허브 속을 신호가 흘러간다
    1. 하나하나의 패킷이 독립된 것으로 동작한다
각각의 패킷은 중계되는 동안 데이터 부분은 보여지지 않는다.   
패킷들은 서로 관련 없이 별개의 것으로 간주되어 목적지를 향해 가까이 갈 뿐이다.

    2. LAN 케이블은 신호를 약화시키지 않는 것이 핵심이다
케이블 안에서 이동하는 전기 신호는 다양한 이유로 수있다.   
전압이 급격히 변화하는(주파수가 높은) 신호의 각진 부분은 에너지가 떨어지는 비율이 높아 쉽게 뭉개진다.

    3. '꼼'은 잡음을 방지하기 위한 방법이다
잡음을 방지하기 위해 두 가닥의 신호선을 한 조로 마주 꼰 트위스트 페어 케이블(꼰 선쌍)을 사용한다.   
선을 꼼으로써 외부에서 들어오는 전자파에 의한 잡음을 상쇄시킬 수 있다.   
내부에서도 인접한 신호선에서 누설되는 전자파에 의한 잡음을 상쇄시킬 수 있다.

    4. 리피터 허브는 연결되어 있는 전체 케이블에 신호를 송신한다
신호가 리피터 허브에 도달하면 이더넷의 기본 원리에 따라 LAN 전체에 신호가 흩어진다.   
리피터 허브에서는 LAN 어댑터측과 같이 RJ-45 커넥터에 직접 접속하면 신호를 제대로 수신할 수 없다.   
송신 단자에서 보낸 신호를 수신 단자로 받아야 하므로 허브 안의 PHY(MAU) 회로와 커넥터 사이의 신호선을 교차시켜 접속한다.   
   
MDI와 MDI-X가 있는데 전자는 RJ-45 커넥터와 신호 송수신 회로를 직접 결선한 것이고, 후자는 교차해 결선한 것이다.   
리피터 허브에서 끝의 커넥터에는 MDI/MDI-X 라고 쓰여있는 전환 스위치가 붙어있다. 한쪽이 MDI이면 다른 쪽은 MDI-X여야 한다.    
허브의 커넥터 부분은 보통 MDI-X이므로 허브끼리 접속할 때는 한쪽을 MDI로 설정해야 한다.   
만약 MDI 전환 스위치가 없고 모든 커넥터가 MDI-X인 경우 송신, 수신 단자를 바꿔 들어오게 해주는 크로스 케이블로 허브들을 접속한다.   
   
LAN 어댑터는 허브에만 접속하도록 한정하지 않기 때문에 크로스 케이블은 PC끼리 접속할 때도 사용한다. 
   
리피터 허브에서 PHY(MAU) 회로 수신부에 도달한 신호는 리피터 회로에 들어간다.   
이것을 리피터 허브의 커넥터 부분에 뿌리면 리피터 허브에 접속한 전체 기기에 송신된다.   
리피터 회로의 기본은 신호를 그대로 뿌리는 것이므로 신호가 변형된 것과 상관 없이 그대로 흘려버린다.
    
## 2 스위칭 허브의 패킷 중계 동작
    1. 스위칭 허브는 주소 테이블로 중게한다   
    
    2. MAC 주소 테이블을 등록 및 갱신한다   
    
    3. 예외적인 동작   
    
    4. 전이중 모드에서 송신과 수신을 동시에 실행한다   
    
    5. 최적의 전송 속도로 보내는 자동 조정   
    
    6. 스위칭 허브는 복수의 중계 동작을 동시에 실행한다   
    
## 3 라우터의 패킷 중계 동작
    1. 라우터의 기본   
    
    2. 경로표에 등록된 정보   
    
    3. 라우터의 패킷 수신 동작   
    
    4. 경로표를 검색하여 출력 포트를 발견한다   
    
    5. 해당하는 경로가 없는 경우에 선택하는 기본 경로    
    
    6. 패킷은 유효 기한이 있다   
    
    7. 큰 패킷은 조각 나누기 기능으로 분할한다   
    
    8. 라우터의 송신 동작은 컴퓨터와 같다   
    
    9. 라우터와 스위칭 허브의 관계
    
## 4 라우터의 부가 기능
    1. 주소 변환으로 IP 주소를 효율적으로 이용한다   
    
    2. 주소 변환의 기본 동작   
    
    3. 포트 번호를 바꿔쓰는 이유   
    
    4. 인터넷에서 회사로 액세스한다   
    
    5. 라우터의 패킷 필터링 기능
    
